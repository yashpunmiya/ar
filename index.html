<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>AR Directions Without Markers</title>

    <!-- A-Frame and AR.js Libraries -->
    <script src="https://aframe.io/releases/1.2.0/aframe.min.js"></script>
    <script src="https://cdn.rawgit.com/jeromeetienne/ar.js/1.7.2/aframe/build/aframe-ar.js"></script>
</head>
<body style="margin: 0; overflow: hidden;">

<!-- A-Frame Scene -->
<a-scene embedded arjs="trackingMethod: best;">

    <!-- Directional Arrow (3D model) -->
    <a-entity id="arrow" geometry="primitive: cone; radiusBottom: 0; radiusTop: 0.5; height: 2" 
              material="color: red;" position="0 1 -5" rotation="-90 0 0"></a-entity>

    <!-- AR Camera -->
    <a-entity camera></a-entity>

</a-scene>

<script>
    // Get user's GPS coordinates
    navigator.geolocation.getCurrentPosition(position => {
        const { latitude, longitude } = position.coords;

        // Log user's current position (for debugging)
        console.log(`Latitude: ${latitude}, Longitude: ${longitude}`);

        // Initialize arrow direction based on a preset target direction (e.g., North)
        let targetDirection = 0; // in degrees (0 for North)

        // Set the arrow to point in the target direction
        const arrow = document.getElementById('arrow');
        arrow.setAttribute('rotation', `0 ${targetDirection} 0`);
        
        // Function to update arrow direction based on device orientation
        window.addEventListener('deviceorientation', event => {
            const { alpha } = event; // alpha gives the compass direction
            arrow.setAttribute('rotation', `0 ${-alpha + targetDirection} 0`);
        });
    });
</script>

</body>
</html>
